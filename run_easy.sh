#!/bin/bash

# ========================================================
# 기능: Clean-Disk 간편 실행 런처 (담당: 최영현)
# 역할: 복잡한 명령어 없이 바로 실행 가능하도록 함
# ========================================================

# 스크립트가 있는 위치를 기준으로 경로 설정 (파트너 요청 반영: 안전한 경로 이동)
cd "$(dirname "$0")"

echo "========================================"
echo "  Clean-My-Disk 실행 도우미"
echo "========================================"
echo "1.   초기 설정 (준비 중...)"
echo "2.  디스크 정리 시작 (Start)"
echo "3.  정리 리포트 통계 보기 (New!)"
echo "4.  종료 (Exit)"
echo "----------------------------------------"
read -p "원하는 기능을 선택하세요 (1-4): " choice  # <--- (1-4)로 수정함

case $choice in
    1)
        # 파트너 요청: setup 기능 구현 전까지 비활성화
        echo " 초기 설정 기능은 아직 개발 중입니다."
        echo "    메인 스크립트 업데이트 후 오픈됩니다!"
        ;;
    2)
        echo "프로그램을 실행합니다..."
        # 메인 프로그램 호출
        ./scripts/clean-disk.sh
        ;;
    3)
        echo " 정리 리포트를 분석합니다..."
        # 파이썬 스크립트 실행 (python3가 없으면 python으로 시도)
        if command -v python3 &> /dev/null; then
            python3 tools/stats.py logs
        else
            python tools/stats.py logs
        fi
        ;;
    4)
        echo "종료합니다."
        exit 0
        ;;
    *)
        echo "잘못된 입력입니다. 1~4번 중에서 선택해주세요."
        ;;
esac

echo ""
read -p "엔터 키를 누르면 종료됩니다..."